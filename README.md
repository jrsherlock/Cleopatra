# Security Dashboard

A modern, responsive web application built with Blazor WebAssembly for monitoring and managing security vulnerabilities across your infrastructure. This dashboard provides real-time insights into your security posture, asset tracking, comprehensive vulnerability reporting, and domain squatting detection.

## Screenshots

*(Note: The screenshot images are currently missing from `docs/images/`. Please add them to visually showcase the application's features.)*

### Environment Overview
*(Image: docs/images/environment-overview.png)*
*Environment overview showing asset tracking and risk assessment*

### Vulnerability Management
*(Image: docs/images/vulnerability-dashboard.png)*
*Vulnerability management dashboard with CVSS scoring and trend analysis*

### Domain Squatting Detection
*(Image: docs/images/domain-squatting.png)*
*Domain squatting detection and monitoring dashboard*

### PDF Report Example
*(Image: docs/images/pdf-report.png)*
*Sample vulnerability report generated by the system*

## Features

- **Environment Overview**
  - Real-time asset tracking and monitoring
  - Service discovery and risk assessment
  - Interactive trend visualization with sparkline charts
  - KPI tracking for critical metrics
  - Asset vulnerability distribution

- **Vulnerability Management**
  - CVSS score tracking and severity classification
  - Detailed vulnerability reporting with PDF export
  - Historical trend analysis with sparkline visualization
  - Advanced filtering and search capabilities
    - Global text search across all fields
    - Column-specific filters with case-insensitive search
    - Interactive data grid with dynamic sorting
    - Detailed slide-out panels for vulnerability information

- **Domain Squatting Detection**
  - Active domain monitoring
  - DNS record verification
  - Risk level assessment
  - Similarity scoring
  - Advanced domain filtering

- **Modern UI/UX**
  - Responsive design for all devices
  - Dark mode navigation
  - Interactive data visualizations
  - Intuitive layout and navigation
  - Real-time search and filtering
  - Smooth transitions and animations

## Getting Started

### Prerequisites

- [.NET SDK 8.0](https://dotnet.microsoft.com/download/dotnet/8.0) or later
- [Node.js](https://nodejs.org/) (LTS version recommended)
- npm (included with Node.js)
- Modern web browser with WebAssembly support

### Installation

1. Clone the repository
2. Install Node.js dependencies:
   ```bash
   npm install
   ```
3. Restore .NET dependencies:
   ```bash
   dotnet restore
   ```
4. Build the CSS:
   ```bash
   npm run css:build
   ```
5. Run the application:
   ```bash
   dotnet run
   ```

The application will be available at `https://localhost:5001` or `http://localhost:5000`

### Development

- Watch for CSS changes:
  ```bash
  npm run css:watch
  ```
- Run the application in development mode:
  ```bash
  dotnet watch run
  ```

## Development Guide

### Development Environment Setup

1. **IDE Setup**
   - Visual Studio 2022 (recommended)
     - Install the ASP.NET and web development workload
     - Install the .NET WebAssembly build tools
   - VS Code
     - Install C# Dev Kit extension
     - Install Blazor extension
     - Install Tailwind CSS IntelliSense

2. **Required Software**
   - .NET SDK 8.0 or later
   - Node.js LTS (v18.x or later)
   - Git
   - A modern web browser (Chrome/Edge recommended for debugging)

### Local Development

1. **First-time Setup**
   ```bash
   # Clone the repository
   git clone https://github.com/jrsherlock/asp_pc.git
   cd asp_pc

   # Install .NET dependencies
   dotnet restore

   # Install Node.js dependencies
   npm install

   # Initial CSS build
   npm run css:build
   ```

2. **Development Workflow**
   ```bash
   # Terminal 1: Watch for CSS changes
   npm run css:watch

   # Terminal 2: Run the application with hot reload
   dotnet watch run
   ```

3. **Development URLs**
   - Main application: `https://localhost:5001`
   - API endpoints: `https://localhost:5001/api`
   - Swagger UI: `https://localhost:5001/swagger`

### Project Organization

1. **Component Development**
   - Place new components in the appropriate subdirectory under `/Components`
   - Follow the existing naming convention: `ComponentName.razor`
   - Include component-specific styles in `/Styles/components`

2. **Page Development**
   - Add new pages under `/Pages`
   - Update `App.razor` and routing as needed
   - Follow the existing page structure pattern

3. **Model Development**
   - Place data models in `/Models`
   - Follow C# naming conventions
   - Include XML documentation comments

### Styling Guidelines

1. **Tailwind CSS**
   - Use utility classes when possible
   - Custom classes should be defined in `tailwind.config.js`
   - Follow the existing color scheme and spacing system

2. **Component Styling**
   ```css
   /* Example custom component style */
   @layer components {
     .custom-card {
       @apply bg-white rounded-lg shadow-md p-6;
     }
   }
   ```

### Testing

1. **Unit Tests**
   ```bash
   # Run all tests
   dotnet test

   # Run specific test project
   dotnet test Tests/AspDashboard.Tests
   ```

2. **Integration Tests**
   ```bash
   # Run integration tests
   dotnet test Tests/AspDashboard.IntegrationTests
   ```

### Building for Production

1. **Production Build**
   ```bash
   # Build CSS for production
   npm run css:build

   # Publish the application
   dotnet publish -c Release
   ```

2. **Docker Build**
   ```bash
   # Build the Docker image
   docker build -t asp-dashboard .

   # Run the container
   docker run -p 8080:80 asp-dashboard
   ```

### Debugging

1. **Browser Developer Tools**
   - Use Chrome/Edge DevTools for WebAssembly debugging
   - Enable source maps in development
   - Use the Network tab to monitor API calls

2. **Visual Studio Debugging**
   - Set breakpoints in C# code
   - Use the Debug window to inspect variables
   - Enable browser link for CSS/HTML updates

3. **Common Issues**
   - Clear browser cache if changes aren't reflecting
   - Rebuild solution if dependencies aren't resolving
   - Check browser console for JavaScript errors

### Code Style Guidelines

1. **C# Conventions**
   - Use C# latest language features
   - Follow Microsoft's C# coding conventions
   - Use nullable reference types

2. **Blazor Best Practices**
   - Implement `IDisposable` for components that need cleanup
   - Use cascading parameters appropriately
   - Avoid long-running operations in `OnInitialized`

3. **Component Design**
   ```csharp
   @code {
       // Parameters
       [Parameter] public string Title { get; set; }
       
       // Cascading Parameters
       [CascadingParameter] private Theme CurrentTheme { get; set; }
       
       // Private fields
       private bool _isLoading;
       
       // Override lifecycle methods
       protected override async Task OnInitializedAsync()
       {
           // Implementation
       }
   }
   ```

### Performance Optimization

1. **Blazor Optimization**
   - Implement lazy loading for components
   - Use `@key` directive appropriately
   - Minimize state changes

2. **Asset Optimization**
   - Compress images
   - Use appropriate image formats
   - Implement lazy loading for images

3. **Network Optimization**
   - Implement caching strategies
   - Use compression for API responses
   - Minimize bundle sizes

### Contribution Workflow

1. **Feature Development**
   ```bash
   # Create feature branch
   git checkout -b feature/new-feature

   # Make changes and commit
   git add .
   git commit -m "Add new feature"

   # Push changes
   git push origin feature/new-feature
   ```

2. **Pull Request Process**
   - Create PR against main branch
   - Fill out PR template
   - Request review from team members
   - Address review comments

3. **Code Review Guidelines**
   - Check code style compliance
   - Verify test coverage
   - Review performance implications
   - Ensure documentation is updated

#### Commit Guidelines

Use the following format for commit messages:

```
<type>: <description>

[optional body]
[optional footer]
```

**Common Types:**

- `feat`: A new feature
- `fix`: A bug fix
- `docs`: Documentation changes
- `style`: Code style changes (formatting, etc.)
- `refactor`: Code refactoring not related to a bug fix or feature
- `test`: Adding missing tests or correcting existing tests
- `chore`: Routine tasks, maintenance, or updates to build process

## Deployment

This project is automatically deployed to AWS. The infrastructure includes:

- **AWS S3 Bucket (`asp-portal-pc`):** Hosts the static assets of the built Blazor WebAssembly application.
- **AWS CloudFront:** Serves as a Content Delivery Network (CDN) for global distribution and caching.
- **Production Base URL:** `https://d1skjlz3m4rkv0.cloudfront.net/`

### Automated Deployment Workflow

Deployment is handled by a GitHub Actions workflow (`.github/workflows/aws.yml`) triggered on pushes to the `main` branch. The process is as follows:

1.  **Trigger:** Code is pushed to the `main` branch.
2.  **Setup:** .NET and Node.js environments are configured.
3.  **Build:** Node.js dependencies are installed, CSS is built, and the .NET project is published.
4.  **Deploy to S3:** The built application assets (from `release/wwwroot/`) are synced to the `asp-portal-pc` S3 bucket.
5.  **Update Base URL:** The `index.html` file is modified to use the production CloudFront base URL.
6.  **CloudFront Invalidation:** The CloudFront cache is invalidated to ensure users receive the latest version.

For more detailed information on the deployment workflow and troubleshooting, please refer to the [GitHub Workflow Guide](GITHUB.md).

## Technology Stack

- **Core Framework**
  - **.NET 8.0:** The latest version of Microsoft's development platform.
  - **Blazor WebAssembly:** A client-side web framework that runs C# code directly in the browser using WebAssembly. Enables a single-page application (SPA) architecture.

- **Frontend Technologies**
  - **Tailwind CSS v3.4.1:** A utility-first CSS framework, configured with JIT (Just-In-Time) compilation for optimized builds and responsive design.
  - **Radzen.Blazor v4.24.1:** A rich UI component library providing components like advanced data grids with real-time filtering and sorting.
  - **Font Awesome 6.5.1:** A comprehensive icon library for consistent styling across the application.

- **PDF Generation**
  - **itext7 8.0.2:** A library used for generating PDF reports within the application.

## Project Structure

The project is organized as follows:

```
asp_dashboard/
├── .github/              # GitHub Actions workflows (CI/CD)
├── Components/           # Reusable Blazor components (UI elements)
│   ├── KpiCard           # Example: Key Performance Indicator card
│   ├── SparklineChart    # Example: Compact chart for trends
│   └── ...               # Other UI components
├── Models/               # C# data models used throughout the application
│   ├── Vulnerability.cs  # Example: Model for vulnerability data
│   └── ...               # Other data models
├── Pages/                # Blazor pages (routable components)
│   ├── EnvironmentOverview # Example: Dashboard overview page
│   └── ...               # Other application pages
├── Properties/           # Project properties, e.g., launchSettings.json
├── Services/             # Business logic services (e.g., PDF generation)
│   └── VulnerabilityPdfService.cs
├── Shared/               # Shared Blazor components (e.g., layouts, navigation)
├── Styles/               # CSS stylesheets, including main app styles
└── wwwroot/              # Static assets (images, fonts, global CSS)
├── App.razor             # Root Blazor component
├── Program.cs            # Main entry point of the application
├── asp_dashboard.csproj  # .NET project file (dependencies, build settings)
├── tailwind.config.js    # Tailwind CSS configuration
└── ...                   # Other configuration and root files
```

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgments

- Built with [Blazor WebAssembly](https://dotnet.microsoft.com/apps/aspnet/web-apps/blazor)
- Styled with [Tailwind CSS](https://tailwindcss.com/)
- UI Components by [Radzen Blazor](https://blazor.radzen.com/)
- Icons by [Font Awesome](https://fontawesome.com/)

## Contact

Your Name - [@jrsherlock](https://github.com/jrsherlock)

Project Link: [https://github.com/jrsherlock/asp_pc](https://github.com/jrsherlock/asp_pc)
